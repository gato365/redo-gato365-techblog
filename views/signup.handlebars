<div class="col-md-6">
    <h2>Signup</h2>

    <form class="form signup-form">
        <div class="form-group">
            <label for="name-signup">name:</label>
            <input class="form-input" type="text" id="name-signup" />
        </div>
        <div class="form-group">
            <label for="username-signup">username:</label>
            <input class="form-input" type="text" id="username-signup" />
        </div>
        <div class="form-group">
            <label for="email-signup">email:</label>
            <input class="form-input" type="text" id="email-signup" />
        </div>
  
        
        <div class="form-group">
            <label for="password-signup">password:</label>
            <input class="form-input" type="password" id="password-signup" />
        </div>
        <div class="form-group">
            <button class="btn btn-primary" type="submit" id = "sign-up-button">Sign Up</button>
            <button class="btn btn-primary" type="submit" id = "login">Login</button>
        </div>
    </form>
</div>


<script>
    document.getElementById('login').addEventListener('click', function () {
        event.preventDefault();
        document.location.replace('/login');
    });





 const signupFormHandler = async (event) => {
  event.preventDefault();

  const name = document.querySelector('#name-signup').value.trim();
  const username = document.querySelector('#username-signup').value.trim();
  const email = document.querySelector('#email-signup').value.trim();
  const password = document.querySelector('#password-signup').value.trim();
  
  if (name && username && email && password) {
    const response = await fetch('/api', {
      method: 'POST',
      body: JSON.stringify({ name, username, email, password }),
      headers: { 'Content-Type': 'application/json' },
    });

    console.log(name,username,email,password);

     if (response.ok) {
      document.location.replace('/');
    } else {
      alert(response.statusText);
    } 
  }
};



document
.getElementById('sign-up-button')
  .addEventListener('click', signupFormHandler);

  
   
</script>